// styles/mobile-responsive.scss
// Mobile responsive utilities and breakpoints

$mobile: 640px;
$tablet: 768px;
$desktop: 1024px;
$wide: 1280px;

// Breakpoint mixins
@mixin mobile-only {
  @media (max-width: #{$mobile - 1px}) {
    @content;
  }
}

@mixin tablet-and-up {
  @media (min-width: $tablet) {
    @content;
  }
}

@mixin tablet-only {
  @media (min-width: $tablet) and (max-width: #{$desktop - 1px}) {
    @content;
  }
}

@mixin desktop-and-up {
  @media (min-width: $desktop) {
    @content;
  }
}

@mixin desktop-only {
  @media (min-width: $desktop) and (max-width: #{$wide - 1px}) {
    @content;
  }
}

@mixin wide-only {
  @media (min-width: $wide) {
    @content;
  }
}

// Mobile-first responsive utilities
.mobile-hidden {
  @include tablet-and-up {
    display: none !important;
  }
}

.tablet-hidden {
  @include mobile-only {
    display: none !important;
  }

  @include desktop-and-up {
    display: none !important;
  }
}

.desktop-hidden {
  @include tablet-and-up {
    display: none !important;
  }
}

// Touch-friendly sizes
.touch-target {
  min-height: 44px;
  min-width: 44px;
}

.mobile-touch-button {
  min-height: 48px;
  padding: 12px 16px;
  border-radius: 8px;

  @include tablet-and-up {
    min-height: 40px;
    padding: 10px 14px;
    border-radius: 6px;
  }
}

// Mobile-optimized spacing
.mobile-safe-area {
  padding-left: max(8px, env(safe-area-inset-left));
  padding-right: max(8px, env(safe-area-inset-right));
  padding-top: max(8px, env(safe-area-inset-top));
  padding-bottom: max(8px, env(safe-area-inset-bottom));
}

// Responsive text
.text-responsive {
  font-size: clamp(14px, 4vw, 16px);

  @include tablet-and-up {
    font-size: clamp(14px, 2vw, 18px);
  }
}

// Stack vertically on mobile, horizontally on desktop
.responsive-stack {
  display: flex;
  flex-direction: column;
  gap: 12px;

  @include tablet-and-up {
    flex-direction: row;
    gap: 16px;
  }
}

// Responsive grid
.responsive-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;

  @include tablet-and-up {
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
  }

  @include desktop-and-up {
    grid-template-columns: repeat(3, 1fr);
  }
}

// Mobile-optimized modals and overlays
.mobile-modal-overlay {
  @include mobile-only {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 50;
  }
}

.mobile-modal-content {
  @include mobile-only {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: 16px 16px 0 0;
    max-height: 90vh;
    overflow-y: auto;
    z-index: 51;
  }
}

// Scrollbar styling for mobile
.mobile-scrollbar {
  @include mobile-only {
    -webkit-overflow-scrolling: touch;

    &::-webkit-scrollbar {
      width: 4px;
      height: 4px;
    }

    &::-webkit-scrollbar-track {
      background: transparent;
    }

    &::-webkit-scrollbar-thumb {
      background: rgba(128, 128, 128, 0.3);
      border-radius: 2px;

      &:hover {
        background: rgba(128, 128, 128, 0.5);
      }
    }
  }
}

// Safe area support
.safe-area-bottom {
  padding-bottom: calc(8px + env(safe-area-inset-bottom, 0px));
}

.safe-area-top {
  padding-top: calc(8px + env(safe-area-inset-top, 0px));
}
